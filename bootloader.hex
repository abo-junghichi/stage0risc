# bootloader in the rom.
3c 00 00 00 # program size

# start: 0x00
80 01 01 00 # lit one $1 - set the constant.
80 00 01 00 # lit pass $1 - reading the file of header is first pass.
80 03 04 00 # lit len $4 - length of the header is 4 byte.
81 04 30 00 # rel addr +data - set where read content is put.
82 02 14 00 # jal tmp +read

# loop: 0x14
a1 02 00 00 # getc tmp
93 02 00 04 # sb tmp 00 addr
86 04 04 01 # add addr addr one
87 03 03 01 # sub len len one
# read: 0x24
85 03 f0 ff # bnez len -loop

84 00 14 00 # beqz pass +data - if second pass is done, chainload.
80 00 00 00 # lit pass $0 - seccond pass
81 04 0c 00 # rel addr +data
# the content of the header read at first pass is file size.
92 03 00 04 # ld len 00 addr
82 02 ec ff # jal tmp -read
# data: 0x3c
$
